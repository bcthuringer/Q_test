#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("source-map-support/register");
const cdk = require("aws-cdk-lib");
const cicd_stack_1 = require("../templates/cicd-stack");
// Get GitHub configuration from environment variables if provided
const githubOwner = process.env.GITHUB_OWNER;
const githubRepo = process.env.GITHUB_REPO;
const githubBranch = process.env.GITHUB_BRANCH;
const githubTokenSecretName = process.env.GITHUB_TOKEN_SECRET_NAME;
const app = new cdk.App();
new cicd_stack_1.CICDStack(app, 'QBlogCICDStack', {
    env: {
        account: process.env.CDK_DEFAULT_ACCOUNT,
        region: process.env.CDK_DEFAULT_REGION || 'us-east-1'
    },
    description: 'CI/CD pipeline for Q_Blog application',
    // Pass GitHub configuration if available
    githubOwner,
    githubRepo,
    githubBranch,
    githubTokenSecretName,
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2ljZC1hcHAuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJjaWNkLWFwcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSx1Q0FBcUM7QUFDckMsbUNBQW1DO0FBQ25DLHdEQUFvRDtBQUVwRCxrRUFBa0U7QUFDbEUsTUFBTSxXQUFXLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUM7QUFDN0MsTUFBTSxVQUFVLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUM7QUFDM0MsTUFBTSxZQUFZLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUM7QUFDL0MsTUFBTSxxQkFBcUIsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLHdCQUF3QixDQUFDO0FBRW5FLE1BQU0sR0FBRyxHQUFHLElBQUksR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBQzFCLElBQUksc0JBQVMsQ0FBQyxHQUFHLEVBQUUsZ0JBQWdCLEVBQUU7SUFDbkMsR0FBRyxFQUFFO1FBQ0gsT0FBTyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsbUJBQW1CO1FBQ3hDLE1BQU0sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQixJQUFJLFdBQVc7S0FDdEQ7SUFDRCxXQUFXLEVBQUUsdUNBQXVDO0lBQ3BELHlDQUF5QztJQUN6QyxXQUFXO0lBQ1gsVUFBVTtJQUNWLFlBQVk7SUFDWixxQkFBcUI7Q0FDdEIsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiIyEvdXNyL2Jpbi9lbnYgbm9kZVxuaW1wb3J0ICdzb3VyY2UtbWFwLXN1cHBvcnQvcmVnaXN0ZXInO1xuaW1wb3J0ICogYXMgY2RrIGZyb20gJ2F3cy1jZGstbGliJztcbmltcG9ydCB7IENJQ0RTdGFjayB9IGZyb20gJy4uL3RlbXBsYXRlcy9jaWNkLXN0YWNrJztcblxuLy8gR2V0IEdpdEh1YiBjb25maWd1cmF0aW9uIGZyb20gZW52aXJvbm1lbnQgdmFyaWFibGVzIGlmIHByb3ZpZGVkXG5jb25zdCBnaXRodWJPd25lciA9IHByb2Nlc3MuZW52LkdJVEhVQl9PV05FUjtcbmNvbnN0IGdpdGh1YlJlcG8gPSBwcm9jZXNzLmVudi5HSVRIVUJfUkVQTztcbmNvbnN0IGdpdGh1YkJyYW5jaCA9IHByb2Nlc3MuZW52LkdJVEhVQl9CUkFOQ0g7XG5jb25zdCBnaXRodWJUb2tlblNlY3JldE5hbWUgPSBwcm9jZXNzLmVudi5HSVRIVUJfVE9LRU5fU0VDUkVUX05BTUU7XG5cbmNvbnN0IGFwcCA9IG5ldyBjZGsuQXBwKCk7XG5uZXcgQ0lDRFN0YWNrKGFwcCwgJ1FCbG9nQ0lDRFN0YWNrJywge1xuICBlbnY6IHsgXG4gICAgYWNjb3VudDogcHJvY2Vzcy5lbnYuQ0RLX0RFRkFVTFRfQUNDT1VOVCwgXG4gICAgcmVnaW9uOiBwcm9jZXNzLmVudi5DREtfREVGQVVMVF9SRUdJT04gfHwgJ3VzLWVhc3QtMScgXG4gIH0sXG4gIGRlc2NyaXB0aW9uOiAnQ0kvQ0QgcGlwZWxpbmUgZm9yIFFfQmxvZyBhcHBsaWNhdGlvbicsXG4gIC8vIFBhc3MgR2l0SHViIGNvbmZpZ3VyYXRpb24gaWYgYXZhaWxhYmxlXG4gIGdpdGh1Yk93bmVyLFxuICBnaXRodWJSZXBvLFxuICBnaXRodWJCcmFuY2gsXG4gIGdpdGh1YlRva2VuU2VjcmV0TmFtZSxcbn0pO1xuIl19